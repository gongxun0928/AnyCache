---
description: design/ 目录下文档命名与分类约定，设计/Plan 任务必须遵循
globs: "design/**/*.md"
alwaysApply: true
---

# Design 文档命名规范

新建或编辑 `design/` 下文档时，必须按以下约定命名。

## 文档类型与命名

| 类型 | 命名格式 | 用途 | 示例 |
|------|----------|------|------|
| **Plan** | `plan_<简述>.md` | Agent 执行「先出 Plan 等确认」流程时生成的**执行计划**，含 Goal、Steps、To Confirm | `plan_client-standalone.md` |
| **Todo** | `todo-<编号>-<简述>.md` | 待办/任务类设计，长期规划或待实现项 | `todo-02-master-metadata-persistence.md` |
| **Design** | `<主题>-design.md` | 架构/方案类设计文档，描述设计决策与实现 | `metadata-design.md` |

## 何时用哪种

- **Plan**：用户意图含「设计」「重构」「优化架构」等，且任务复杂（涉及 3+ 模块、新接口、不兼容改动等），Agent 先出 Plan 等用户确认后再改代码时，保存为 `plan_*.md`。
- **Todo**：记录待办任务、分阶段实现计划时，用 `todo-*.md`。
- **Design**：写架构说明、设计决策、模块边界等纯设计内容时，用 `*-design.md`。

## 与 Agents.md 的关系

- Plan 的格式（Goal、Steps、Risks、To Confirm）见 `Agents.md` 的 Plan 流程。
- 完成 Plan 对应代码后，在 Plan 文档中标记 `> Status: Done`。
